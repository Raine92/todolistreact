import{r as l,j as e}from"./react-DbDLwz_u.js";import{c as j}from"./react-dom-TIU4SsXv.js";import{A as g}from"./ag-grid-react-Bi847zKn.js";import{B as u,D as y,a as x,b,T as f,c as v,A as T,d as O,e as C,I as D,f as A}from"./@mui-B-WKUkKS.js";import"./ag-grid-community-DqHcE3DC.js";import"./scheduler-CzFDRTuY.js";import"./clsx-B-dksMZM.js";import"./@emotion-BS3SQDVj.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./@babel-DuB8yAtz.js";import"./stylis-YPZU7XtI.js";import"./react-transition-group-LluKgVzv.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function d(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=d(t);fetch(t.href,r)}})();function S(c){const[a,d]=l.useState(!1),[s,t]=l.useState({description:"",date:"",priority:""}),r=()=>{d(!0)},n=()=>{d(!1)},o=()=>{c.addTodo(s),n()},i=p=>{t({...s,[p.target.name]:p.target.value})};return e.jsxs(e.Fragment,{children:[e.jsx(u,{variant:"outlined",onClick:r,children:"Add todo"}),e.jsxs(y,{open:a,children:[e.jsx(x,{children:"New todo"}),e.jsxs(b,{children:[e.jsx(f,{name:"description",value:s.description,onChange:i,margin:"dense",label:"Description",fullWidth:!0}),e.jsx(f,{name:"date",value:s.date,onChange:i,margin:"dense",label:"Date",fullWidth:!0}),e.jsx(f,{name:"priority",value:s.priority,onChange:i,margin:"dense",label:"Priority",fullWidth:!0})]}),e.jsxs(v,{children:[e.jsx(u,{color:"primary",onClick:n,children:"Cancel"}),e.jsx(u,{color:"primary",onClick:o,children:"Save"})]})]})]})}function w(){const[c,a]=l.useState([]),d=[{field:"description",sortable:!0,filter:!0},{field:"date",sortable:!0,filter:!0},{field:"priority",sortable:!0,filter:!0},{headerName:"",field:"id",width:90,cellRenderer:o=>e.jsx(D,{onClick:()=>n(o.value),size:"small",color:"error",children:e.jsx(A,{})})}];l.useEffect(()=>{s()},[]);const s=()=>{fetch("https://todolist-ad234-default-rtdb.europe-west1.firebasedatabase.app/items/.json").then(o=>o.json()).then(o=>t(o)).catch(o=>console.error(o))},t=o=>{const i=Object.keys(o),p=Object.values(o).map((h,m)=>Object.defineProperty(h,"id",{value:i[m]}));a(p)},r=o=>{fetch("https://todolist-ad234-default-rtdb.europe-west1.firebasedatabase.app/items/.json",{method:"POST",body:JSON.stringify(o)}).then(i=>s()).catch(i=>console.error(i))},n=o=>{fetch(`https://todolist-ad234-default-rtdb.europe-west1.firebasedatabase.app/items/${o}.json`,{method:"DELETE"}).then(i=>s()).catch(i=>console.error(i))};return e.jsxs(e.Fragment,{children:[e.jsx(T,{position:"static",children:e.jsx(O,{children:e.jsx(C,{variant:"h5",children:"TodoList"})})}),e.jsx(S,{addTodo:r}),e.jsx("div",{className:"ag-theme-material",style:{height:400,width:700},children:e.jsx(g,{rowData:c,columnDefs:d})})]})}j(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(w,{})}));
